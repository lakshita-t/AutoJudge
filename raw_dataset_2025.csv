problem_link,problem_id,problem_idx,short_id,contest_number,problem_name,problem_statement,problem_solution,problem_input,problem_output,problem_tags,problem_dificulty,file_name,editorial_link,problem_editorial
https://codeforces.com//contest/2114/problem/A,3405985,A,2114A,2114,A. Square Year,"You are given a year represented by a string s, consisting of exactly 4
characters. Thus, leading zeros are allowed in the year representation.
For example, ""0001"", ""0185"", ""1375"" are valid year representations. You
need to express it in the form (a + b)^2, where a and b are , or
determine that it is impossible.For example, if s = ""0001"", you can
choose a = 0, b = 1, and write the year as (0 + 1)^2 = 1.
",[],,,"['binary search', 'brute force', 'math']",800,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\DIV3\A. Square Year.json,https://codeforces.com//blog/entry/143268,"To solve this problem it was enough to check whether number is the
square of some integer . If yes, then the answer to the set of input
data could be a pair of numbers , , or any other existing partition of
number into a pair of non-negative summands.Otherwise, the answer to the
problem is .
"
https://codeforces.com//contest/2114/problem/B,3405986,B,2114B,2114,B. Not Quite a Palindromic String,"Vlad found a binary string^{
text{ }} s of even length n. He considers a pair of indices (i, n - i +
1), where 1
le i < n - i + 1, to be good if s_i = s_{n - i + 1} holds true.For
example, in the string ” there is only 1 good pair, since s_1
ne s_6, s_2
ne s_5, and s_3=s_4. In the string ” there are no good pairs.Vlad loves
palindromes, but not too much, so he wants to rearrange some characters
of the string so that there are exactly k good pairs of
indices.Determine whether it is possible to rearrange the characters in
the given string so that there are exactly k good pairs of indices (i,
n - i + 1).^{
text{ }}A string s is called binary if it consists only of the
characters ” and ”
",[],,,"['greedy', 'math']",900,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\DIV3\B. Not Quite a Palindromic String.json,https://codeforces.com//blog/entry/143268,"To begin, let’s solve a simpler problem: we will find the minimum and
maximum possible number of good pairs. To achieve the minimum number of
pairs, we will place all zeros at the beginning of the string and all
ones at the end. Then, if the number of zeros is and the number of ones
is , the number of good pairs will be (they will be in the middle of the
string). The maximum number of good pairs is equal to .For to be
achievable, it must obviously be no less than the minimum and no more
than the maximum possible number of pairs; this condition is necessary
but not sufficient. For example, in a string of zeros and ones, you can
obtain or good pairs, but you cannot obtain one. This happens because
any swap of symbols changes the number of good pairs either by or by .
Let’s demonstrate the results of swaps between the first elements of the
pairs: and and : the number of good pairs did not change; and and : the
number of good pairs changed by ; and and : the number of good pairs
changed by ; and and : the number of good pairs did not change; other
pairs are either symmetrical to those shown or do not change the string.
"
https://codeforces.com//contest/2114/problem/C,3405987,C,2114C,2114,C. Need More Arrays,"Given an array a and n integers. It is sorted in non-decreasing order,
that is, a_i
le a_{i + 1} for all 1
le i < n.You can remove any number of elements from the array (including
the option of not removing any at all) without changing the order of the
remaining elements. After the removals, the following will occur: a_1 is
written to a new array; if a_1 + 1 < a_2, then a_2 is written to a new
array; otherwise, a_2 is written to the same array as a_1; if a_2 + 1 <
a_3, then a_3 is written to a new array; otherwise, a_3 is written to
the same array as a_2;
cdots For example, if a=[1, 2, 4, 6], then: a_1 = 1 is written to the
new array, resulting in arrays: [1]; a_1 + 1 = 2, so a_2 = 2 is added to
the existing array, resulting in arrays: [1, 2]; a_2 + 1 = 3, so a_3 = 4
is written to a new array, resulting in arrays: [1, 2] and [4]; a_3 + 1
= 5, so a_4 = 6 is written to a new array, resulting in arrays: [1, 2],
[4], and [6]. Your task is to remove elements in such a way that the
described algorithm creates as many arrays as possible. If you remove
all elements from the array, no new arrays will be created.
",[],,,"['dp', 'greedy']",1000,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\DIV3\C. Need More Arrays.json,https://codeforces.com//blog/entry/143268,"We will be selecting elements from left to right, skipping some of them.
If a new element is supposed to go into the same array as the last one
we took, then skipping it will not make things worse. This is true
because if we took an element equal to , then skipping an element equal
to will allow an element equal to to go into a new array instead of the
previous elements. Similarly, it is always beneficial to take the first
element of the array first, as the second element may be larger and the
answer may worsen.
"
https://codeforces.com//contest/2114/problem/D,3405988,D,2114D,2114,D. Come a Little Closer,"The game field is a matrix of size 10^9
times 10^9, with a cell at the intersection of the a-th row and the b-th
column denoted as (a, b).There are n monsters on the game field, with
the i-th monster located in the cell (x_i, y_i), while the other cells
are empty. No more than one monster can occupy a single cell.You can
move one monster to any cell on the field that is not occupied by
another monster .After that, you must select rectangle on the field; all
monsters within the selected rectangle will be destroyed. You must pay 1
coin for each cell in the selected rectangle.Your task is to find the
minimum number of coins required to destroy all the monsters.
",[],,,"['brute force', 'greedy', 'implementation', 'math']",1400,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\DIV3\D. Come a Little Closer.json,https://codeforces.com//blog/entry/143268,"The minimum rectangle that we can choose must have sides of length and ,
meaning that the maximum and minimum values along both axes are
important.Let’s consider the movement of a certain monster; we will not
choose a new position but will simply examine the rectangle needed to
cover the remaining ones. To find the new maximums and minimums, we can
use a or a similar ordered data structure. The code below will utilize a
simple fact: if we remove a point with the maximum coordinate along some
axis, the new maximum will become the second maximum (similarly for
minimums). Thus, for each axis, we can store two minimums and two
maximums.Now that we know how to find the minimum rectangle for all
monsters except the current one, we just need to determine if it can fit
inside this rectangle. If the area of the rectangle is equal to , then
all the spaces inside it are already occupied, and one of the sides must
be increased; otherwise, the monster can be placed inside it.
"
https://codeforces.com//contest/2114/problem/E,3405989,E,2114E,2114,E. Kirei Attacks the Estate,"Once, Kirei stealthily infiltrated the trap-filled estate of the
Ainzbern family but was discovered by Kiritugu’s familiar. Assessing his
strength, Kirei decided to retreat. The estate is represented as a tree
with n vertices, with the at vertex 1. Each vertex of the tree has a
number a_i recorded, which represents the of vertex i. Recall that a
tree is a connected undirected graph without cycles.For a successful
retreat, Kirei must compute the value for each vertex. The of a vertex
is equal to the sum along the vertical path starting from that vertex.
The sum along the vertical path starting from vertex i is defined as
a_i - a_{p_i} + a_{p_{p_i}} -
ldots, where p_i is the parent of vertex i on the path to the root (to
vertex 1).For example, in the tree below, vertex 4 has the following
vertical paths: [4] with an alternating sum of a_4 = 6; [4, 3] with an
alternating sum of a_4 - a_3 = 6 - 2 = 4; [4, 3, 2] with an alternating
sum of a_4 - a_3 + a_2 = 6 - 2 + 5 = 9; [4, 3, 2, 1] with an alternating
sum of a_4 - a_3 + a_2 - a_1 = 6 - 2 + 5 - 4 = 5. Help Kirei compute the
values for all vertices and escape the estate.
",[],,,"['dfs and similar', 'dp', 'greedy', 'trees']",1400,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\DIV3\E. Kirei Attacks the Estate.json,https://codeforces.com//blog/entry/143268,"Let’s consider each vertex separately. The sign with which its enters
the depends on the parity of its index on the path.When we calculate the
maximum value of the of the vertex, we can either stay in it or subtract
the minimum value of the of our parent: ; . It is important not to
forget to handle the case with the root: .Thus, the values of and are
computed trivially by performing a depth-first traversal of the tree.
The array of values is the answer to the problem.
"
https://codeforces.com//contest/2114/problem/F,3405990,F,2114F,2114,F. Small Operations,"Given an integer x and an integer k. In one operation, you can perform
one of two actions: choose an integer 1
le a
le k and assign x = x
cdot a; choose an integer 1
le a
le k and assign x =
frac{x}{a}, where the value of
frac{x}{a} must be an integer. Find the minimum number of operations
required to make the number x equal to y, or determine that it is
impossible.
",[],,,"['binary search', 'brute force', 'dfs and similar', 'dp', 'math', 'number theory', 'sortings']",2000,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\DIV3\F. Small Operations.json,https://codeforces.com//blog/entry/143268,"It is not difficult to guess that first we need to use operations of the
second type to make equal to , and only then use operations of the first
type to make it equal to . That is, now we need to decompose the numbers
and into the minimum number of factors not exceeding .We will learn to
find this quantity for an arbitrary number . We will use dynamic
programming, let be the minimum number of factors not exceeding into
which we can decompose the number . To find this quantity for , we will
iterate over the number , such that is divisible by and , and we will
update the value . It is easy to notice that this approach works in ,
which is too slow.To make our dynamic programming faster, we note that
values of that are not divisors of are not needed. We will find all
divisors of , and their count is denoted as . For supercomposite
numbers, it can be estimated as , so by using only the divisors as
states, we will achieve an asymptotic complexity of .
"
https://codeforces.com//contest/2114/problem/G,3405991,G,2114G,2114,G. Build an Array,"Yesterday, Dima found an empty array and decided to add some integers to
it. He can perform the following operation an unlimited number of times:
add any integer to the left or right end of the array. then, as long as
there is a pair of identical adjacent elements in the array, they will
be replaced by their sum. It can be shown that there can be at most one
such pair in the array at the same time.For example, if the array is [3,
6, 4] and we add the number 3 to the left, the array will first become
[3, 3, 6, 4], then the first two elements will be replaced by 6, and the
array will become [6, 6, 4], and then [12, 4].After performing the
operation k times, he thinks he has obtained an array a of length n, but
he does not remember which operations he applied. Determine if there
exists a sequence of k operations that could result in the given array a
from an empty array, or determine that it is impossible.
",[],,,"['brute force', 'constructive algorithms', 'dp', 'greedy', 'math', 'number theory']",2200,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\DIV3\G. Build an Array.json,https://codeforces.com//blog/entry/143268,"Let’s start with a slow solution: we will iterate through the element
that we will add first for as many operations as possible and will add
the other elements to the left and right, using as many operations as
possible. When adding a new number, we will also look at the number that
was added before it from the same side.Let’s denote the previous number
as and the current number as . We can add by adding for some , and we
will find the maximum value of for which is divisible by . However, if
we only add the values , they may merge with if is a power of two. In
that case, in order to add without merging with , we must first add ,
and only then as many elements as possible.After calculating all these
values, we know the maximum possible number of operations to construct
the array for a fixed starting element. Now, note that if two elements
merged into one after an operation, they could have been added in one
operation, meaning the number of operations can always be reduced by .
Thus, if the maximum is greater than , it is also possible to construct
the array in operations. In fact, the values for some starting elements
may not be entirely accurate, since more operations can be performed
when adding the first two elements, but they will be counted correctly
when we process the larger of the two neighboring elements as the
starting one.Now, to make our solution work in instead of , we note that
we are calculating the sums of additions for the same , multiple times,
so we can simply precompute these values on the prefix and suffix and
find answers for fixed starting elements in .
"
https://codeforces.com//contest/2086/problem/A,3306520,A,2086A,2086,A. Cloudberry Jam,"The most valuable berry of the Karelian forests is cloudberry. To make
jam from cloudberries, you take equal amounts of berries and sugar and
cook them. Thus, if you have 2 kg of berries, you need 2 kg of sugar.
However, from 2 kg of berries and 2 kg of sugar, you will not get 4 kg
of jam, as one might expect, but only 3 kg, since some of the jam
evaporates during cooking. Specifically, during standard cooking,
exactly a quarter (or 25
",[],,,['math'],800,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\A. Cloudberry Jam.json,https://codeforces.com//blog/entry/141425,"As stated in the problem, to prepare one kg jar of jam, kg of berries
are required; therefore, to prepare jars, you need to take kg of
cloudberries.
"
https://codeforces.com//contest/2070/problem/A,3233350,A,2070A,2070,A. FizzBuzz Remixed,"FizzBuzz is one of the most well-known problems from coding interviews.
In this problem, we will consider a remixed version of FizzBuzz:
.However, you don’t have to solve it. Instead, given the integer n, you
have to report how many times the correct solution to that problem will
print .
",[],,,"['brute force', 'math']",800,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\A. FizzBuzz Remixed.json,https://codeforces.com//blog/entry/140146,"The key observation in this problem is that, if you pick two integers
and , both their remainders modulo and modulo are the same. So, the
number of integers we need to count in is the same as in , the same as
in , and so on.So, you can calculate the number of segments of length
starting from before (which is ), multiply it by the number of values we
need in , and then process the last (partial) segment naively, since it
will contain at most elements.Time complexity: .
"
https://codeforces.com//contest/2104/problem/A,3357537,A,2104A,2104,A. Three Decks,"Monocarp placed three decks of cards in a row on the table. The first
deck consists of a cards, the second deck consists of b cards, and the
third deck consists of c cards, with the condition a < b < c.Monocarp
wants to take some number of cards (at least one, but no more than c)
from the deck and distribute them between the first two decks so that
each of the taken cards ends up in either the first or the second deck.
It is possible that all the cards taken from the third deck will go into
the same deck.Your task is to determine whether Monocarp can make the
number of cards in all three decks equal using the described operation.
",[],,,['math'],800,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\A. Three Decks.json,https://codeforces.com//blog/entry/142472,"Let us assume that we have managed to make the number of cards equal.
Then each deck contains cards. Since the total number of cards from the
hasn’t changed, there were cards in total.This means that if is not
divisible by , the answer is definitely """".Otherwise, we know that ,
which means . If the first or the second deck already has more cards
than , the answer is also """". Otherwise, we can move cards to the first
deck and cards to the second deck. Since , it’s enough to check if
.Overall complexity: per test case.
"
https://codeforces.com//contest/2075/problem/A,3273590,A,2075A,2075,A. To Zero,"You are given two integers n and k; k is an odd number not less than 3.
Your task is to turn n into 0.To do this, you can perform the following
operation any number of times: choose a number x from 1 to k and
subtract it from n. However, if the value of n is even (divisible by 2),
then x must also be even, and if the value of n is odd (not divisible by
2), then x must be odd.In different operations, you can choose the same
values of x, but you don’t have to. So, there are no limitations on
using the same value of x.Calculate the minimum number of operations
required to turn n into 0.
",[],,,"['greedy', 'math']",800,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\A. To Zero.json,https://codeforces.com//blog/entry/140781,"If you subtract an odd number from an odd number, you will get an even
number. And if you subtract an even number from an even number, you will
also get an even number. Therefore, after each operation, we obtain an
even number.Additionally, we can always subtract the maximum number that
we can. If the result of the subtraction is less than , we can simply
use a smaller value of in the last operation.Based on this, we can write
the following solution: initially, if is odd, subtract from it to make
it even (or do nothing if it is already even). Then subtract from the
resulting until we reach or a negative number.However, we may have to
subtract from for a long time. Therefore, let’s speed this up. We need
to find the minimum number of operations such that . That is, is (the
result of dividing by , rounded up).You can simply calculate using
double precision floating-point numbers (type ) and round it using some
standard function like ; in this problem, you won’t have issues with
calculation accuracy. However, with large values of and , you may get an
incorrect answer due to precision errors, so it’s better to divide by
with rounding up using integers. To divide the number by the number
without using floating-point numbers, you can use one of two methods:
either perform integer division of by rounding down (this is standard
integer division), and then add to the answer if ; or divide by rounding
down; this will automatically increase the answer by compared to
dividing by if is not divisible by .
"
https://codeforces.com//contest/2069/problem/A,3213446,A,2069A,2069,A. Was there an Array ,"For an array of integers a_1, a_2,
dots, a_n, we define its as the array b_2, b_3,
dots, b_{n-1}, where b_i = 1 if the i-th element of the array a is equal
to both of its neighbors, and b_i = 0 if the i-th element of the array a
is not equal to at least one of its neighbors.For example, for the array
[1, 2, 2, 2, 3, 3, 4, 4, 4, 4], the equality characteristic will be [0,
1, 0, 0, 0, 0, 1, 1].You are given the array b_2, b_3,
dots, b_{n-1}. Your task is to determine whether there exists such an
array a for which the given array is the equality characteristic.
",[],,,"['graph matchings', 'greedy']",800,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\A. Was there an Array .json,https://codeforces.com//blog/entry/139774,"Let’s try to find some contradiction of the following kind for the given
array: we know for sure that some element must be equal to its
neighbors, but the corresponding value is zero, or vice versa.If both
and are equal to , it means that the -th element is equal to both of its
neighbors, then must also be equal to . That is, if there exists such an
index that and , we have a contradiction.It is not difficult to prove
that if such an index does not exist, then it is always possible to find
an array that satisfies all conditions. Let’s construct it as follows: ;
for each subsequent element , if at least one of is equal to , we must
choose , otherwise we set . This way, we can be sure that if is equal to
, then . Therefore, the only problem may arise if some is equal to , but
at the same time . However, if and , then . Similarly, . Thus, we have
constructed the case where and , which is the only case which can lead
to a contradiction.Therefore, the solution reduces to checking whether
there exists such an index that and .
"
https://codeforces.com//contest/2075/problem/B,3273591,B,2075B,2075,B. Array Recoloring,"You are given an integer array a of size n. Initially, all elements of
the array are colored red.You have to choose exactly k elements of the
array and paint them blue. Then, while there is at least one red
element, you have to select any red element with a blue neighbor and
make it blue.The cost of painting the array is defined as the sum of the
first k chosen elements and the last painted element. Your task is to
calculate the maximum possible cost of painting for the given array.
",[],,,"['constructive algorithms', 'greedy']",1300,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\B. Array Recoloring.json,https://codeforces.com//blog/entry/140781,"Since the cost depends on the first painted elements and the last one,
it cannot exceed the sum of maximum elements of the array. In fact, in
most cases, you can get exactly that cost.Let and the positions of the
maxima are . In this case, you can initially color the elements , then
all except , and then color the element last. So the cost is exactly the
sum of maxima. This works because the element we want to color last is
between two elements we choose initially.However, if , then whatever
element we choose and how we color the remaining elements, the first or
the last element of the array will be the last to be colored. Therefore,
in this case, you can consider two options (and pick the one with the
maximum cost): the element among the first positions is painted first,
and the -th element is painted last; or the element among the last
positions is painted first, and the -st element is painted last.
"
https://codeforces.com//contest/2086/problem/B,3306521,B,2086B,2086,B. Large Array and Segments,"There is an array a consisting of n integers, and a positive integer k.
An array b is created from array a according to the following rules: b
contains n
cdot k numbers; the first n numbers of array b are the same as the
numbers of array a, that is, b_{i} = a_{i} for i
le n; for any i > n, it holds that b_{i} = b_{i - n}. For example, if a
= [2, 3, 1, 4] and k = 3, then b = [2, 3, 1, 4, 2, 3, 1, 4, 2, 3, 1, 4].
Given a number x, it is required to count the number of such positions l
(1
le l
le n
cdot k), for which there exists a position r
ge l, such that the sum of the elements of array b on the segment [l, r]
is x (in other words, b_{l} + b_{l+1} +
dots + b_{r}
ge x).
",[],,,"['binary search', 'brute force', 'greedy']",1100,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\B. Large Array and Segments.json,https://codeforces.com//blog/entry/141425,"In this problem, the array is obtained by copying the array exactly
times.Notice that all elements of the array are positive; therefore, the
elements of the array are also positive. From this, we can conclude that
the optimal for any that maximizes the sum over the segment [] is always
equal to . It also follows that the maximum sum for is less than the
maximum sum for . The condition of monotonicity holds, so we can perform
a binary search to find the first such for which the maximum sum is .How
do we write a check for such a binary search? Given a position , we need
to calculate the maximum sum for it. To do this, we find how many ""full
arrays "" fit into the suffix : there are of them. In addition to this,
there are elements from the suffix of the array on this segment, so the
total sum of the elements of the array over the segment [] can be found
using the formula:At this point, we can write a solution that works in .
If we pre-calculate all suffix sums for the array , then the formula
above can be calculated in , so the solution can be optimized to .There
are also other solutions with complexity that also get .
"
https://codeforces.com//contest/2104/problem/B,3357538,B,2104B,2104,B. Move to the End,"You are given an array a consisting of n integers.For every integer k
from 1 to n, you have to do the following: choose an arbitrary element
of a and move it to the right end of the array (you can choose the last
element, then the array won’t change); print the sum of k last elements
of a; move the element you’ve chosen on the first step to its original
position (restore the original array a). For every k, you choose the
element which you move so that the value you print is .Calculate the
value you print for every k.
",[],,,"['brute force', 'data structures', 'dp', 'greedy', 'implementation']",1000,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\B. Move to the End.json,https://codeforces.com//blog/entry/142472,"If we move an element to the end of the array, then each element (except
the one we selected) will either remain in its place or move position to
the left. This means that if we are interested in the sum of the last
elements after we have shifted some element to the end, it will
necessarily include the last elements of the original array (each of
them will move at most position to the left, so they will still be
included in the last elements).Thus, the answer for each is the sum of
the last elements, plus some additional element. Can we use any element?
It turns out, yes; if we want to use the element at index , which is not
among the last , we just need to move it to the end. Obviously, among
all these elements, we need to take the maximum.Therefore, the answer
for each value of is . Calculating these values naively is too slow, but
we can speed it up as follows: we will build two arrays and , where is
the sum of the first elements of the array, and is the maximum of them.
Then the answer for is simply .To quickly construct these two arrays, we
can use the fact that , , and . This way, we will obtain a solution in .
"
https://codeforces.com//contest/2070/problem/B,3233351,B,2070B,2070,B. Robot Program,"There is a robot on the coordinate line. Initially, the robot is located
at the point x (x
ne 0). The robot has a sequence of commands of length n consisting of
characters, where represents a move to the left by one unit (from point
p to point (p-1)) and represents a move to the right by one unit (from
point p to point (p+1)).The robot starts executing this sequence of
commands (one command per second, in the order they are presented).
However, whenever the robot reaches the point 0, the counter of executed
commands is reset (i. e. it starts executing the entire sequence of
commands from the very beginning). If the robot has completed all
commands and is not at 0, it stops.Your task is to calculate how many
times the robot will enter the point 0 during the next k seconds.
",[],,,"['brute force', 'implementation', 'math']",1100,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\B. Robot Program.json,https://codeforces.com//blog/entry/140146,"Let’s simulate the process until either the command sequence terminates
or the robot reaches the point .If the sequence ends and the robot is
not at , then the answer to the problem is .Otherwise, we need to check
whether the robot can return to the point if we begin executing commands
again. We can simply iterate through the sequence and record the first
time the robot returns to the point . If no such time exists, then the
answer to the problem is . Otherwise, this loop (from to ) will continue
until time expires. In this case, the answer is , where is the remaining
time after the first hit of the point , and is the time required for the
robot to return to the same position from the point .
"
https://codeforces.com//contest/2069/problem/B,3213447,B,2069B,2069,B. Set of Strangers,"You are given a table of n rows and m columns. Initially, the cell at
the i-th row and the j-th column has color a_{i, j}.Let’s say that two
cells are if they share a side. Strangers are allowed to touch with
corners.Let’s say that the set of cells is a if all pairs of cells in
the set are strangers. Sets with no more than one cell are sets of
strangers by definition.In one step, you can choose any set of strangers
and paint all of them in some other color. You can choose the resulting
color.What is the minimum number of steps you need to make the whole
table the same color?
",[],,,"['greedy', 'matrices']",1200,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\B. Set of Strangers.json,https://codeforces.com//blog/entry/139774,"Let’s fix some color and look at all cells of that color. We can decide
either to leave this color as the resulting one and then we can ignore
all these cells. Or we should get rid of this color, and it would cost
at least one operation.If all cells are pairwise strangers, then one
operation is enough to recolor all of them in the desired color.
Otherwise, we need at least two operations. It turns out that two
operations are enough: each connected component of the same color can be
painted in two steps if we color the table like a chessboard and choose
""black"" cells at the first step and ""white"" cells at the second step.
Since components don’t touch each other, we can choose subsets from
different components independently. In total, we can get rid of any
color in two steps.As a result, for each color, let’s calculate the
number of steps we need to get rid of it as . It’s equal to if it’s
present in the table, plus if there are two neighbors of that color. The
answer then equals to minus the color we decided to leave untouched. Or,
optimally,
"
https://codeforces.com//contest/2069/problem/C,3213448,C,2069C,2069,C. Beautiful Sequence,"Let’s call an integer sequence if the following conditions hold: its
length is at least 3; for every element except the first one, there is
an element to the left less than it; for every element except the last
one, there is an element to the right larger than it; For example, [1,
4, 2, 4, 7] and [1, 2, 4, 8] are beautiful, but [1, 2], [2, 2, 4], and
[1, 3, 5, 3] are not.Recall that a subsequence is a sequence that can be
obtained from another sequence by removing some elements without
changing the order of the remaining elements.You are given an integer
array a of size n, where . Your task is to calculate the number of
beautiful subsequences of the array a. Since the answer might be large,
print it modulo 998244353.
",[],,,"['combinatorics', 'dp', 'greedy', 'two pointers']",1500,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\C. Beautiful Sequence.json,https://codeforces.com//blog/entry/139774,"Let’s change the definition of a beautiful sequence a bit. We can prove
that the condition ""for every element except the first one, there is an
element to the left less than it"" is equivalent to ""the first element is
less than every other element in the sequence"". We can prove that these
two conditions are equivalent by induction: for the -nd element of the
sequence , the only element to the left is the -st (), so ; assume we
have proved that, for every , . Let’s prove that . Suppose that the
element to the left of which is less than is ; if , then obviously, ;
otherwise, and , so . Using similar induction, we can prove that ""for
every element except the last one, there is an element to the right
larger than it"" is the same as ""the last element is greater than every
other element in the sequence"".Since the array consists only of , and ,
we can notice that there is only one possible beautiful sequence
pattern: (i. e. one , followed by any number of consecutive and one
final ). Any other pattern is invalid: the leftmost element should be
strictly less than every element in the middle (every element from the
-nd to the second-to-last), and the rightmost should be strictly greater
than every element in the middle; so, the leftmost element should be ,
the rightmost element should be , and every element in the middle should
be .In order to calculate the number of subsequences that match the
aforementioned pattern, we can use dynamic programming. Let be the
number of subsequences if we have considered the first elements of the
array, and the current state is (for example, state means that the
sequence is empty, state means that we have taken the element equal to ,
state means that we have taken some number of ’s, state means that we
have taken the element and the sequence is finished). The transitions in
this dynamic programming are pretty simple and can be done in for each
state.So the total complexity of the solution is .
"
https://codeforces.com//contest/2104/problem/C,3357539,C,2104C,2104,C. Card Game,"Alice and Bob are playing a game. They have n cards numbered from 1 to
n. At the beginning of the game, some of these cards are given to Alice,
and the rest are given to Bob.Card with number i beats card with number
j if and only if i > j, : card 1 beats card n.The game continues as long
as each player has at least one card. During each turn, the following
occurs: Alice chooses one of her cards and places it face up on the
table; Bob, seeing Alice’s card, chooses one of his cards and places it
face up on the table; if Alice’s card beats Bob’s card, both cards are
taken by Alice. Otherwise, both cards are taken by Bob. A player can use
a card that they have taken during one of the previous turns.The player
who has no cards at the beginning of a turn loses. Determine who will
win if both players play optimally.
",[],,,"['brute force', 'constructive algorithms', 'games', 'greedy', 'math']",1100,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\C. Card Game22682.json,https://codeforces.com//blog/entry/142472,"There are many ways to solve this problem. I will describe one of the
ways that doesn’t use too much casework.The key observation we need is
that, if a player has a strategy that allows him/her to take the cards
on turn , then he/she has a strategy to take the cards on turn . There
are two ways to prove it, choose any of them: the first way is to
consider the options each player has. When a player loses a card, they
lose one of their options; when a player gains a card, they gain a new
option for a turn. So, if a player can’t take cards on some turn, then
on the next turn, their options will be even more limited, and the
opponent will still be able to use all the cards they were able to use
on the previous turn; the second way is to consider it for Alice and Bob
separately. If Alice can take cards on turn no matter what Bob does,
then she has a card which beats every card Bob has (and she will still
have this card on the next turn). Otherwise, if Bob can take cards on
turn no matter what Alice does, then for every card Alice has, Bob has a
card that beats it (and that won’t change on the next turn). So, if a
player can take cards on the first turn, they win. All that’s left to
check is who wins on the first turn. If Alice has a card that beats
every card Bob has, she wins. Otherwise, Bob wins.
"
https://codeforces.com//contest/2086/problem/C,3306522,C,2086C,2086,C. Disappearing Permutation,"A permutation of integers from 1 to n is an array of size n where each
integer from 1 to n appears exactly once.You are given a permutation p
of integers from 1 to n. You have to process n queries. During the i-th
query, you replace p_{d_i} with 0. Each element is replaced with 0
exactly once. The changes made in the queries are saved, that is, after
the i-th query, all integers p_{d_1}, p_{d_2},
dots, p_{d_i} are zeroes.After each query, you have to find the minimum
number of operations required to the array; in other words, to transform
the current array into any permutation of integers from 1 to n (possibly
into the original permutation p, possibly into some other
permutation).The operation you can perform to fix the array is the
following one: choose the integer i from 1 to n, replace the i-th
element of the array . Note that the answer for each query is calculated
independently, meaning you do not actually apply any operations, just
calculate the minimum number of operations.
",[],,,"['dfs and similar', 'dp', 'dsu', 'graphs', 'greedy', 'implementation']",1300,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\C. Disappearing Permutation.json,https://codeforces.com//blog/entry/141425,"Let’s take a closer look at how the operation works:Suppose we have a
missing number , we know that the final permutation must contain this
number, and the only place we can put the number is position . However,
if we place the number there, we might lose , which also needs to be
placed in the final permutation, and the only place we can put it is
position , but we might again lose some number, and so on. This process
will end when we place a number in the position of an already missing
number.This process can be implemented either recursively or
iteratively, and we are only interested in the set of positions we need
to fix.Let’s denote the set of all positions to be fixed as . Then we
can observe the following: if the current query is contained in , then
the union of the sets of fixable positions for and is equal to . If the
query is not contained in , then it adds some positions to the set
.Based on this observation, we can write a solution. I will outline the
main points of the solution: we maintain the set ; when the query comes
with that is contained in , we do nothing and simply output the size of
the set ; when the query comes with that is not contained in , then we
add all the positions that are necessary to fix the array if is missing,
and output the size of the set . The final implementation may have a
complexity of or .
"
https://codeforces.com//contest/2070/problem/C,3233352,C,2070C,2070,C. Limited Repainting,"You are given a strip, consisting of n cells, all cells are initially
colored red.In one operation, you can choose a segment of consecutive
cells and paint them . Before painting, the chosen cells can be either
red or blue. Note that it is not possible to paint them red. You are
allowed to perform at most k operations (possibly zero).For each cell,
the desired color after all operations is specified: red or blue.It is
clear that it is not always possible to satisfy all requirements within
k operations. Therefore, for each cell, a penalty is also specified,
which is applied if the cell ends up the wrong color after all
operations. For the i-th cell, the penalty is equal to a_i.The penalty
of the final painting is calculated as the among all cells that are
painted the wrong color. If there are no such cells, the painting
penalty is equal to 0.What is the minimum penalty of the final painting
that can be achieved?
",[],,,"['binary search', 'greedy']",1500,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\C. Limited Repainting.json,https://codeforces.com//blog/entry/140146,"The problem asks to minimize the maximum. An experienced participant
should immediately consider binary search as a possible solution.The
condition for binary search can be formulated as follows: is there a
coloring such that its penalty does not exceed ? If the penalty does not
exceed , then it does not exceed , which means the function is
monotonic.This can be interpreted as follows. Cells with a penalty less
than or equal to can be left red, or they can be painted blue. Cells
with a penalty greater than must be painted the correct color. In fact,
since we don’t care about the cells of the first type, we can simply
remove them from the strip. We need to ensure that the cells of the
second type can be correctly colored in no more than operations. That
is, we need to check that the blue cells can be divided into no more
than contiguous segments.This check can be done in linear time. We can
count the number of positions such that cell is blue, and cell is either
absent or red. Each such position indicates the start of a segment.
Therefore, their count is equal to the number of segments.Overall
complexity: for each testcase.
"
https://codeforces.com//contest/2075/problem/C,3273592,C,2075C,2075,C. Two Colors,"Monocarp has installed a new fence at his summer house. The fence
consists of n planks of the same size arranged in a row.Monocarp decided
that he would paint his fence according to the following rules: each
plank of the fence will be painted in exactly one color; the number of
different colors that the planks will be painted in is two; the planks
of the fence that are painted in the same color must form a continuous
sequence, meaning that for all pairs of planks painted in the same
color, there will be no planks painted in a different color between
them. Monocarp has m different paints, and the paint of the i-th color
is sufficient to paint no more than a_i planks of the fence. Monocarp
will not buy any additional paints.Your task is to determine the number
of different ways to paint the fence that satisfy all of Monocarp’s
described wishes. Two ways to paint are considered different if there
exists a plank that is painted in different colors in these two ways.
",[],,,"['binary search', 'combinatorics', 'math']",1500,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\C. Two Colors.json,https://codeforces.com//blog/entry/140781,"Consider a general form of a fence: the planks from to are painted in
one color, and the planks from to are painted in another color.Let’s
iterate over the value of . It is then easy to determine which colors
are suitable for the first half and which are suitable for the second
half. Any color with will work for the first half, while for the second
half, the colors must satisfy . If we sort the values of in
non-decreasing order, we can find the number of available colors using
binary search. In C++, we can use lower_bound, and in Python, we can use
bisect.bisect_left.Let there be candidates for the first half and
candidates for the second half. We would like the number of ways to
choose two colors to be equal to . However, we have accidentally counted
cases where we chose the same color for both halves of the fence. The
number of such cases is , as that color must be sufficient for both
halves. Therefore, the contribution of to the answer is .Sum up the
answers for all to obtain the final answer to the problem.Overall
complexity: for each test case.
"
https://codeforces.com//contest/2104/problem/D,3357540,D,2104D,2104,D. Array and GCD,"You are given an integer array a of size n.You can perform the following
operations any number of times (possibly, zero): pay one coin and
increase any element of the array by 1 (you must have at least 1 coin to
perform this operation); gain one coin and decrease any element of the
array by 1. Let’s say that an array is if both of the following
conditions hold: each element of the array is at least 2; for each pair
of indices i and j (1
le i, j
le n; i
ne j) the greatest common divisor (GCD) of a_i and a_j is equal to 1. If
the array has less than 2 elements, this condition is automatically
satisfied. Let’s say that an array is if it can be transformed into an
ideal array using the aforementioned operations, provided that you
initially have no coins. If the array is already ideal, then it is also
beautiful.The given array is not necessarily beautiful or ideal. You can
remove any elements from it (including removing the entire array or not
removing anything at all). Your task is to calculate the minimum number
of elements you have to remove (possibly, zero) from the array a to make
it .
",[],,,"['binary search', 'greedy', 'math', 'number theory']",1400,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\D. Array and GCD.json,https://codeforces.com//blog/entry/142472,"First, let’s understand that operations from the statement impose only
one restriction: the sum of the resulting array must not be greater than
the sum of the original one.Now let’s consider an ideal array. If there
is an element that contains at least two distinct prime factors (or its
factorization includes some prime more than once), we can reduce the
element to any of its factors and the array remains ideal. This means,
we can transform any ideal array into another ideal array that consists
only of primes. Furthermore, if a prime is in the array, but another
prime , such that , is absent, we can reduce to without losing the
array’s ideal property. Therefore, any ideal array of length can be
transformed into the array that consists of the first primes.Based on
the aforementioned facts, an array of length is beautiful if its sum is
at least the sum of the first prime numbers.To solve the problem, we can
iterate over the number of remaining elements . If the sum of maximums
from the array is at least the sum of first primes, we can update the
answer.It’s also useful to note that the sieve of Eratosthenes can
efficiently generate the list of the first prime numbers. You need
primes, so you have to use the sieve up to something like .
"
https://codeforces.com//contest/2075/problem/D,3273593,D,2075D,2075,D. Equalization,"You are given two non-negative integers x and y.You can perform the
following operation any number of times (possibly zero): choose a
positive integer k and divide either x or y by 2^k rounding down. The
cost of this operation is 2^k. However, there is an additional
constraint: you cannot select the same value of k more than once.Your
task is to calculate the minimum possible cost in order to make x equal
to y.
",[],,,"['bitmasks', 'brute force', 'dp', 'graphs', 'math']",2000,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\D. Equalization.json,https://codeforces.com//blog/entry/140781,"Note that for any positive integer , the following equality holds: .
This means that for each number, only the total power of two by which it
will be divided is significant.Due to the restriction that the same
power of two cannot be used twice, we can divide all powers (in this
problem, we can consider powers from to ) into three groups: the powers
by which will be divided; the powers by which will be divided; and the
powers that will not be used.However, there may be many suitable
partitions, but we need to minimize the cost. To do so, we can use
dynamic programming to calculate the minimum cost if we considered the
first powers, with the sum of the first group equal to and the sum of
the second group equal to . The transitions in this dynamic programming
are straightforward: either we add the next power to the first group, or
to the second, or we exclude it.Note that this dynamic programming can
be computed once and then used to calculate the answer for any given
test case. Using this dynamic programming, the answer can be computed as
follows: iterate over and such that , and select the minimum among the
values .
"
https://codeforces.com//contest/2086/problem/D,3306523,D,2086D,2086,D. Even String,"You would like to construct a string s, consisting of lowercase Latin
letters, such that the following condition holds: For every pair of
indices i and j such that s_{i} = s_{j}, the difference of these indices
is even, that is, |i - j|
bmod 2 = 0. Constructing any string is too easy, so you will be given an
array c of 26 numbers the required number of occurrences of each
individual letter in the string s. So, for every i
in [1, 26], the i-th letter of the Latin alphabet should occur exactly
c_i times.Your task is to count the number of distinct strings s that
satisfy all these conditions. Since the answer can be huge, output it
modulo 998
,244
,353.
",[],,,"['brute force', 'combinatorics', 'dp', 'math', 'strings']",1700,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\D. Even String.json,https://codeforces.com//blog/entry/141425,"From the statement, it follows that all identical letters in must be
positioned either at even indices or at odd indices simultaneously.Let’s
examine how the ways to construct the string are formed: A subset of
letters that we take for the odd positions (the remaining letters will
be at the even positions); The number of ways to create a string with a
fixed subset of letters at the odd positions. Let denote the sum of the
array . We also denote as the number of odd positions, and as the number
of even positions.For now, let’s ignore the second point and calculate
how many ways there are to distribute the letters such that we can
create at least one suitable string . That is, we need to count the
number of ways to choose a set of letters that will occupy the odd
positions. This resembles a modification of the classical knapsack
problem, which can be solved using dynamic programming. Let denote the
number of ways to take a subset of letters such that the number of
letters taken equals . The base case of the dynamic programming is , and
the entire dynamic can be computed using two nested loops:The number
we’re interested in will be in .Now we need to understand what to do
with point . Notice that if we have fixed a subset of letters at the odd
positions, then the number of ways to create the string is equal to the
product of the multinomial coefficients:Notice that this product is a
constant, meaning it does not depend on the specific subset :Thus, the
answer to the entire problem is simply the product:The total complexity
complexity is .
"
https://codeforces.com//contest/2069/problem/D,3213449,D,2069D,2069,D. Palindrome Shuffle,"You are given a string s consisting of lowercase Latin letters.You can
perform the following operation with the string s: choose a contiguous
substring (possibly empty) of s and shuffle it (reorder the characters
in the substring as you wish).Recall that a palindrome is a string that
reads the same way from the first character to the last and from the
last character to the first. For example, the strings , , , are
palindromes, but the strings , , are not.Your task is to determine the
minimum possible length of the substring on which the aforementioned
operation must be performed in order to convert the given string s into
a palindrome.
",[],,,"['binary search', 'greedy', 'hashing', 'strings', 'two pointers']",1800,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\D. Palindrome Shuffle.json,https://codeforces.com//blog/entry/139774,"I will describe a solution in . It is possible to solve the problem in
with careful implementation of two pointers method, but is more
intuitive and easier to understand, in my opinion.First, while the first
character of the string is equal to the last character of the string,
let’s get rid of both of them it’s pretty obvious we shouldn’t touch
them.After that, we get a string for which the first character is not
equal to the last character. At least one of them should be changed so,
the substring we need to shuffle is either a prefix or a suffix of the
string. Suppose the string we shuffle is a prefix (if we need to shuffle
a suffix, we’ll check it by reversing the string and trying to shuffle a
prefix of the reversed string).Suppose that, by shuffling a prefix of
length , we get the answer. Then, by shuffling a prefix of length , we
will also be able to make the string a palindrome. It means that the
shortest possible length of the prefix we need to shuffle can be found
with binary search.In our binary search, we need to check whether we can
make the string a palindrome by shuffling the prefix of certain length.
Let’s check it in by verifying the following two conditions: for every
pair such that , at least one of the characters should be changed, so it
should belong to the prefix; for every character from to , let’s
calculate the number of pairs where this character should fill both
positions (i. e. the number of pairs where at least one of the
characters is equal to and is not affected by our shuffle). This number
of pairs should not exceed the number of pairs of character in the whole
string, otherwise we won’t have enough occurrences of to fill all these
pairs of positions. It’s obvious that these two conditions are
necessary, but we can prove that they are sufficient: if both of them
hold, we have enough characters to fill all pairs of positions where we
need a fixed character, and all the remaining pairs of positions can be
filled by any remaining pairs of characters (the input is guaranteed to
have an even number of every character, so it’s always possible to split
all characters into pairs).So, we need to check if some substring is a
possible answer times, and every such check can be done in . Thus, our
solution works in .
"
https://codeforces.com//contest/2070/problem/D,3233353,D,2070D,2070,D. Tree Jumps,"You are given a rooted tree, consisting of n vertices. The vertices in
the tree are numbered from 1 to n, and the root is the vertex 1. Let d_x
be the distance (the number of edges on the shortest path) from the root
to the vertex x.There is a chip that is initially placed at the root.
You can perform the following operation as many times as you want
(possibly zero): move the chip from the current vertex v to a vertex u
such that d_u = d_v + 1. If v is the root, you can choose any vertex u
meeting this constraint; however, if v is not the root, u should not be
a neighbor of v (there should be no edge connecting v and u). For
example, in the tree above, the following chip moves are possible: 1
rightarrow 2, 1
rightarrow 5, 2
rightarrow 7, 5
rightarrow 3, 5
rightarrow 4, 3
rightarrow 6, 7
rightarrow 6.A sequence of vertices is if you can move the chip in such
a way that it visits all vertices from the sequence (and only them), in
the order they are given in the sequence.Your task is to calculate the
number of valid vertex sequences. Since the answer might be large, print
it modulo 998244353.
",[],,,"['dfs and similar', 'dp', 'trees']",1600,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\D. Tree Jumps.json,https://codeforces.com//blog/entry/140146,"We can solve this problem by using dynamic programming. Let represent
the number of valid sequences ending at vertex . To calculate , we can
iterate over all previous vertices in the sequence, such that and (or is
the root). Then, is the sum of for all such . Note that the vertices
should be processed in order of increasing distance from the root,
because otherwise, might not be calculated when we need to use it in .
However, this approach can be very slow, as there may be vertices for
each vertex . In order to speed up this solution, we can observe that if
vertices have the same distance from the root, the calculation of their
values follows a similar pattern. Specifically, we only need to consider
the values of vertices in the previous ""layer"" of the tree, excluding
their parent node. Thus, we can store the sum of all values for each
""layer"". Let be the sum of for all vertices with distance from the root.
Then we can easily calculate as (or minus if is the root). The answer to
the problem is the sum of all values . To order the vertices according
to the distance from the root, you can use DFS (and then sort the
vertices according to the distance) or BFS. Or you can use the following
method: since for every vertex, the index of its parent is less, we can
process the vertices from to and set . Then, for every depth, you can
build a vector of all vertices on that depth (by adding each vertex to
the corresponding vector). This approach works in .
"
https://codeforces.com//contest/2069/problem/E,3213450,E,2069E,2069,"E. A, B, AB and BA","You are given a string s consisting of characters and .Your task is to
split it into blocks of length 1 and 2 in such a way that there are no
more than a strings equal to """"; there are no more than b strings equal
to """"; there are no more than ab strings """"; there are no more than ba
strings """"; Strings """" and """" are prohibited. Each character of the
initial string s should belong to exactly one block.
",[],,,"['constructive algorithms', 'greedy', 'sortings', 'strings']",2300,"D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\E. A, B, AB and BA.json",https://codeforces.com//blog/entry/139774,"Firstly, let’s find the solution that maximizes the number of used
blocks of length ( and ). Each used block of length frees us one and ,
so we don’t lose anything.Secondly, since we don’t have and , any pair
of equal neighboring characters will be split in-between in any possible
partition. So, let’s split them at the start. As a result, we’ll get
blocks with alternating characters of four types: : if it’s length it
can be split in -s and -s for any . For example: , or ; : practically
the same as the previous, so let’s just count the total number of blocks
we can get from the first two types as ; : it can be split in of , but
if we need at least one the total number of blocks will reduce to . For
example: , but ; : the same case, but favors -s instead. So, let’s split
into and into as much as we can. As a result, one of three cases will
follow: We spent all : then remaining blocks will be split into . We
lose one pair of and for each block, so it’s optimal to reduce the
number of remaining , so it’s optimal to split -s into -s at the first
step. We spent all : remaining blocks will be split into . The case is
the same as previous and gives the same greedy: split shortest -s into
-s at the first step. There are no and left. Only odd-length blocks left
(the first two types}, so it doesn’t matter how to split it. In total
we’ll get more blocks of length . Note that cases and will lead to
either case or zeroing both and , but if both and we’ll also get extra
blocks from the first two types of alternating strings. In other words,
there are not so much casework as it seems.In total, the strategy is the
following: split -s into in increasing order of lengths; split -s into
in increasing order of lengths; split remaining -s into in any order;
split remaining -s into in any order; calculate extra pairs you’ll get
using the formula . check that you have enough and to cover remaining -s
and -s. Total complexity is .
"
https://codeforces.com//contest/2070/problem/E,3233354,E,2070E,2070,E. Game with Binary String,"Consider the following game. Two players have a binary string (a string
consisting of characters and/or ). The players take turns, the first
player makes the first turn. During a player’s turn, he or she has to
choose exactly two adjacent elements of the string and remove them ().
Furthermore, there are additional constraints depending on who makes the
move: if it’s the first player’s move, chosen characters should be ; if
it’s the second player’s move, of the chosen characters should be . The
player who can’t make a valid move loses the game. This also means that
if the string currently has less than 2 characters, the current player
loses the game.You are given a binary string s of length n. You have to
calculate the number of its substrings such that, if the game is played
on that substring and both players make optimal decisions, the first
player wins. In other words, calculate the number of pairs (l, r) such
that 1
le l
le r
le n and the first player has a winning strategy on the string s_l
s_{l+1}
dots s_r.
",[],,,"['constructive algorithms', 'data structures', 'divide and conquer', 'games', 'greedy', 'math']",2200,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\E. Game with Binary String.json,https://codeforces.com//blog/entry/140146,"First, we need to modify the game a bit. Suppose that, instead of
removing two characters, a player can remove pair of characters of the
required type. So, the first player can remove any two characters equal
to ; the second player can remove any two characters, at least one of
which is . Now the order of characters does not matter, only their
quantities. Let be the number of ’s in the string, be the number of
’s.It’s pretty obvious that in this version of the game, the second
player should always remove one and one , if it is possible (and only if
there are no ’s, remove two ’s). So, after each pair of moves, one and
three ’s are removed.Suppose that the length of the string is divisible
by . Then, if , the game lasts until the whole string is removed, and
the first player loses. If , the first player runs out of moves before
the second, and if , the second player runs out of moves first. So, if
the length of the string is divisible by , the first player wins iff .If
the length of the string is not divisible by , then we can derive a
similar condition, but it will depend on the remainder of the length
modulo . For example, let’s derive a condition for the case when the
length is equal to modulo . We need to derive a threshold like ""if , the
first player wins, otherwise the second player wins"".Suppose we made
moves for both players. Then we have removed some characters equal to
and characters equal to . If the resulting string has at least
characters equal to , then the first player wins, otherwise the second
player wins. So, if or , then the first player wins. We can rewrite this
condition to : if it is met, then the first player wins (either the
string gets reduced to size and the first player can make a move, or the
second player runs out of ’s before that).We can derive similar
conditions for and . All of them have the form , where is some constant
depending on . You can either derive them analytically, or write a
dynamic programming to check all strings with length and derive this
constant for every remainder from this dynamic programming.The only
issue is that we have allowed the players to take non-adjacent
characters. For the second player, it does not matter: that player
always wants to take one and one , and if there are at least one pair of
different characters in the string, there is at least one substring or .
However, for the first player, this might be an issue: we have allowed
to remove two characters equal to even if there is no substring .We can
prove that the result of the game does not depend on it. If the first
player cannot make a move according to the rules of the original game
(there is no substring , and either the first or the last character is
), then . And since every pair of moves removes three ’s and one , the
first player will run out of moves before the second player even if the
first player is allowed to remove non-adjacent character.Okay, now the
problem reduces to the following: for every remainder of length modulo ,
there is some constant , and we have to calculate the number of
substrings such that: ; in , . Let’s replace every character with the
integer , and every character with the integer . Then, the condition
means that , where is the sum on segment of the resulting array. To
calculate the number of such subarrays efficiently, we can build the
prefix sums over the array (let the sum of first elements be ), and
rewrite this condition as .Let’s go through prefix sums from left to
right and maintain four data structures , where stores the sums on
prefixes we met earlier such that . When we process the prefix , for
each of these data structures , we need to calculate the number of
values in it such that , or . Then, we need to add into the data
structure .Which data structure we need? It should support operations
like ""insert an element"" and ""get the number of elements less than some
value "". You can use something like an order statistics tree, a Fenwick
tree or a Segment tree. Note that you have to insert negative elements
up to , so if you use a Fenwick tree or a Segment tree, you should add
to all values you insert there.This solution works in . You can actually
speed this up by merging these data structures into one and/or getting
rid of the altogether using the fact that every next query you make is
pretty close to the previous query, but this was not needed.
"
https://codeforces.com//contest/2104/problem/E,3357541,E,2104E,2104,E. Unpleasant Strings,"Let’s call a letter if it is a lowercase letter and is one of the first
k letters of the Latin alphabet.You are given a string s of length n,
consisting only of allowed letters.Let’s call a string t if t is a
subsequence of s.You are given q strings t_1, t_2,
dots, t_q. All of them consist only of allowed letters. For each string
t_i, calculate the minimum number of allowed letters you need to append
to it on the right so that it being pleasant.A sequence t is a
subsequence of a sequence s if t can be obtained from s by the deletion
of several (possibly, zero or all) element from arbitrary positions.
",[],,,"['binary search', 'dp', 'greedy', 'strings']",1700,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\E. Unpleasant Strings.json,https://codeforces.com//blog/entry/142472,"For a start, let’s think about how to check, is a subsequence of . There
is a greedy solution to that: let’s match with the leftmost character in
that is equal to it. Then match with the next leftmost character in that
goes after the first one, and so on. If we matched all characters in ,
then is a subsequence of .One of the common ways to write the algorithm
above is to count array where is the position of the next occurrence of
character starting from position . Array can be calculated in linear
time, since differs from in only one position.Then we can check the
string in time, just jumping from current position (in ) to until either
ends or ""doesn’t exist"" (we can set such equal to (remember, zero
indexation)).So, how to add the minimum numbers of characters to string
to make it unpleasant? It’s equivalent to making the minimum number of
extra jumps in array to reach . Suppose, we applied the algorithm above
on and finished at position . Now, we are choosing which character to
add. It’s the same as choosing which to choose as the next jump.It’s not
hard to prove that it’s optimal to choose with the maximum value (since
it won’t increase the answer). After that, we jump to and the procedure
repeats. When becomes bigger or equal to , we’ve reached the goal.In
other words, the answer depends only on the ""starting"" position . So, we
can calculate all of them as a dp array , where is the minimum number of
jumps needed. Then is equal to ( here is to exclude the situation where
we match the same character in with several characters from ).In total,
we precalculate arrays and . Then for each we match it in and print the
value of . The total complexity is .
"
https://codeforces.com//contest/2075/problem/E,3273594,E,2075E,2075,E. XOR Matrix,"For two arrays a = [a_1, a_2,
dots, a_n] and b = [b_1, b_2,
dots, b_m], we define the XOR matrix X of size n
times m, where for each pair (i,j) (1
le i
le n; 1
le j
le m) it holds that X_{i,j} = a_i
oplus b_j. The symbol
oplus denotes the bitwise XOR operation.You are given four integers n,
m, A, B. Count the number of such pairs of arrays (a, b) such that: a
consists of n integers, each of which is from 0 to A; b consists of m
integers, each of which is from 0 to B; in the XOR matrix formed from
these arrays, there are no more than two distinct values.
",[],,,"['bitmasks', 'combinatorics', 'dp', 'implementation', 'math']",2500,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\E. XOR Matrix.json,https://codeforces.com//blog/entry/140781,"If there are at least three pairwise distinct elements in one of the two
arrays ( and ), then there will also be at least three distinct elements
in the matrix. Therefore, we can assume that the number of distinct
elements in each of the arrays does not exceed .This allows us to
construct the answer from the following parts: the number of pairs of
arrays where all elements in are the same and all elements in are the
same; the number of pairs of arrays where all elements in are the same,
and the number of distinct elements in is ; the number of pairs of
arrays where the number of distinct elements in is , and all elements in
are the same; the number of pairs of arrays where both and have two
distinct elements each. The first part of the answer is simply , as we
can choose which number all elements in will equal, and which number all
elements in will equal.The second and third parts are very similar to
each other. Therefore, we will explain how the second part is
calculated, and the third can be computed similarly. We can choose which
number will be in , and the number of ways to do this is . We can also
choose which two numbers will be in , which can be done in ways.
Additionally, we need to choose the positions in where the first number
will be; the number of ways to do this is (not , since we need to
exclude the cases where the same number appears in all positions).
Therefore, the second part of the answer is .The fourth part is the most
complex. The main problem is that it is important which specific values
we choose for the arrays and . Let all elements of be either or (), and
all elements of be either or (). Then for this quadruple , there are
ways to choose which positions in which arrays correspond to which
numbers. This must be multiplied by the number of suitable quadruples,
so let’s learn how to count them.We are interested in quadruples of
numbers that satisfy the conditions: ; ; (otherwise, we will have more
than two distinct values in the matrix, since ). This condition is also
equivalent to , so if it holds, there are exactly two distinct values in
the matrix. The third condition can be rewritten as . Let’s then count
not the quadruples , but the triples such that and .This can be done
using digit dynamic programming on the bits of these three numbers from
the most significant to the least significant. Let be the number of ways
to set the most significant bits in these three numbers such that: , if
the number is still equal to the upper limit , or , if it is definitely
less; , if the number is still equal to the upper limit , or , if it is
definitely less; , if the number is still equal to , or , if it is
definitely not . Transitions in this dynamic programming are done as
follows: we iterate over which values will be in the next bit of these
three numbers, check that this does not violate any conditions, and
observe how the values of change.What conditions do we need to check? We
need to ensure that , so if is and the next bit in is , we cannot set in
the next bit of ; We need to ensure that (similarly); We need to ensure
that , so if is and we set the next bit in to , this bit must also be in
the number ; We need to ensure that (similarly). The flags are
recalculated quite trivially, and we will not discuss this in detail in
the explanation.The answer should be collected from all states of the
form , where is the number of bits in the numbers. This way, we will
obtain the number of pairs that can be used.This dynamic programming is
the most computationally intensive part of the solution, so the entire
solution works in , but with a very large constant in the asymptotic
notation.
"
https://codeforces.com//contest/2086/problem/E,3306524,E,2086E,2086,E. Zebra-like Numbers,"We call a positive integer if its binary representation has alternating
bits up to the most significant bit, and the least significant bit is
equal to 1. For example, the numbers 1, 5, and 21 are , as their binary
representations 1, 101, and 10101 meet the requirements, while the
number 10 is not , as the least significant bit of its binary
representation 1010 is 0.We define the of a positive integer e as the
minimum integer p such that e can be expressed as the sum of p numbers
(possibly the same, possibly different)Given three integers l, r, and k,
calculate the number of integers x such that l
le x
le r and the of x equals k.
",[],,,"['bitmasks', 'brute force', 'constructive algorithms', 'dfs and similar', 'dp', 'greedy', 'math']",2400,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\E. Zebra-like Numbers.json,https://codeforces.com//blog/entry/141425,"First, let’s see how many numbers less than or equal to exist. It turns
out there are only of them, and based on some number , the next one can
be calculated using the formula .Then, we have to be able to quickly
calculate the for an arbitrary number . Since each subsequent number is
approximately times larger than the previous one, intuitively, it seems
like a greedy algorithm should be optimal: for any number , we can
determine its by subtracting the largest number that does not exceed ,
until becomes .Let’s prove the correctness of the greedy
algorithm:Assume that is the smallest number for which the greedy
algorithm does not work, meaning that in the optimal decomposition of
into numbers, the largest number that does not exceed does not appear at
all.If the greedy algorithm works for all numbers less than , then in
the decomposition of the number , there must be at least one number .
And since can be decomposed greedily and will contain at least numbers ,
we will end up with at least numbers in the decomposition.Moreover,
there will be at least numbers in the decomposition because , which
means it is also less than . Therefore, if the fifth number is , we
simply combine with to obtain ; otherwise, we decompose the fifth number
into smaller numbers plus , and we also combine this with to get .Thus,
the new decomposition of the number into numbers will have no more
numbers than the old one, but it will include the number the maximum
number that does not exceed . This means that can be decomposed
greedily.We have reached a contradiction; therefore, the greedy
algorithm works for any positive number.Now, let’s express the greedy
decomposition of the number in a more convenient form. We will represent
the decomposition as a string of length consisting of digits, where the
-th character will denote how many numbers are present in this
decomposition.Let’s take a closer look at what such a string might look
like: ; if , then for any , the character (this follows from the proof
of the greedy algorithm). Moreover, any number generates a unique string
of this form. This is very similar to representing a number in a new
numeric system, which we will call .In summary, the problem has been
reduced to counting the number of numbers in the interval such that the
sum of the digits in the numeral system equals . This is a standard
problem that can be solved using dynamic programming on digits. Instead
of counting the suitable numbers in the interval , we will count the
suitable numbers in the intervals and and subtract the first from the
second to get the answer. Let be the number of numbers in the interval
such that: they have digits; the sum of the digits equals ; if the
prefix of digits of the number is lexicographically greater than these
numbers, otherwise ; if there has not been a in the digits of these
numbers yet, otherwise . Transitions in this dynamic programming are not
very difficult they are basically appending a new digit at the end.The
complexity of the solution is , if we estimate the number of numbers up
to as .First, let’s prove that we can decompose numbers into zebra-like
numbers greedily, constantly subtracting the maximum zebra-like number
we can (the proof is the same as in the first solution).After that, we
will learn to calculate the following dynamic programming: the number of
numbers from to with a zebra value of exactly . The base states of the
dynamic programming will be as follows: (since there are no numbers in
the interval); (since the number has a zebra value of ); for
(similarly); for (numbers cannot have negative zebra value).
Additionally, the same can be done for greater than the number of
zebra-like numbers multiplied by (since there cannot be more than
identical zebra-like numbers in the decomposition of a number). Okay,
now let’s consider the transitions in this dynamic programming. Suppose
we want to calculate . We find the largest zebra-like number that is
less than . Then for all numbers from to , the maximum zebra number in
the decomposition is , and if we subtract it from them, we get the
interval of numbers from to . Therefore, .Intuitively, it seems that
there are not many states in this dynamic programming, so it can be
calculated ""lazily"", and we can store all already computed values in a .
But let’s prove this. will be on the order of , so let’s estimate the
number of different values of that we will need. We will divide them
into two categories zebra-like numbers and all others.If is a zebra-like
number, then the previous zebra number is . Therefore, . Thus, the
states where is a zebra-like number generate new states, and in total,
the states where is zebra-like and the states generated by them will
require only different values of .If is not a zebra-like number, one of
the transitions leads to a state with a zebra-like number, and the other
does not. That is, from each state, there is a ""chain"" of states with
values of that are not zebra-like numbers, and the length of such a
chain is (since every steps in the chain effectively take modulo some
zebra-like number), so there will be a total of values of that are not
zebra numbers.Thus, the total number of states in the dynamic
programming will be , so the entire solution will work in for each test
case.
"
https://codeforces.com//contest/2075/problem/F,3273595,F,2075F,2075,F. Beautiful Sequence Returns,"Let’s call an integer sequence if the following conditions hold: for
every element except the first one, there is an element to the left less
than it; for every element except the last one, there is an element to
the right larger than it; For example, [1, 2], [42], [1, 4, 2, 4, 7],
and [1, 2, 4, 8] are beautiful, but [2, 2, 4] and [1, 3, 5, 3] are
not.Recall that a subsequence is a sequence that can be obtained from
another sequence by removing some elements (possibly zero) without
changing the order of the remaining elements.You are given an integer
array a of size n. Find the longest beautiful subsequence of the array a
and print its length.
",[],,,"['binary search', 'brute force', 'data structures', 'implementation']",3000,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\F. Beautiful Sequence Returns.json,https://codeforces.com//blog/entry/140781,"For the start, let’s note that the definition of the beauty of a
sequence is equivalent to the following: a sequence is if and only if
the first element is a unique minimum and the last element is a unique
maximum.Next, consider each element of the array as a point in : let’s
transform into the point . Observe that the length of the longest
beautiful subsequence can be found as follows: iterate over the position
of the start of the subsequence and the position of the end of the
subsequence; look at the rectangle where the bottom left point is and
the top right point is ; take the corners and all points that lie
strictly inside this rectangle. The algorithm described above will
definitely find the answer, but it works too slowly, so let’s try to
speed it up.Notice that if the chosen point has another point , such
that and , then the answer for will definitely be no worse than for ,
which means we do not need to check the answer for . Therefore, let’s
write down in a separate array only those elements that make sense to
choose as the bottom left corners of the rectangle. These will be
indices such that for all , (we will call them prefix minimums).Note
that the resulting array has interesting monotonicity properties: and at
the same time . Therefore, if we look at an arbitrary point , the left
corners of the rectangles it falls into form an in the array , the
boundaries of which can be found using binary search: is the minimum
such that ; is the minimum such that . Thus, for each point, we can
precompute which bottom left corners are ""suitable"" for it.Now, let’s
note that a similar situation occurs with the top right point: we are
only interested in points that form ""suffix maximums"". They will have
similar monotonicity: as we move from right to left, the values will
only increase.Therefore, let’s iterate over the right corner of the
rectangle from right to left, maintaining the necessary information for
all left corners. Specifically, we will ""include"" and ""exclude"" points,
and for each left corner, we will keep track of how many included points
are located to its top right.Assume that for the current right corner ,
we have included only points that lie strictly to its bottom left. Then
we can already find the answer for it as follows: let’s take the maximum
over the left corners from the interval only these corners can be bottom
left for the current corner, and the necessary values are already
there.When we need to move from the right corner to the corner , we know
that . Therefore, we need to: include all points for which ; exclude all
points for which . Including/excluding a point is simply adding over the
interval .Note that each point is included and excluded no more than
once, which means there will be no more than operations of addition over
the segment.To handle the addition over a segment and the maximum over a
segment, it is sufficient to use a Segment Tree. Thus, the resulting
asymptotic complexity is .
"
https://codeforces.com//contest/2070/problem/F,3233355,F,2070F,2070,F. Friends and Pizza,"Monocarp has n pizzas, the i-th pizza consists of a_i slices. Pizzas are
denoted by uppercase Latin letters from to the n-th letter of the Latin
alphabet.Monocarp also has m friends, and he wants to invite of them to
eat pizza. For each friend, Monocarp knows which pizzas that friend
likes.After the friends arrive at Monocarp’s house, for each pizza, the
following happens: if the pizza is not liked by any of the two invited
friends, Monocarp eats it; if the pizza is liked by exactly one of the
two invited friends, that friend eats it; and if the pizza is liked by
both friends, they try to split it. If it consists of an even number of
slices, they both eat exactly half of the slices. But if the pizza
consists of an odd number of slices, they start quarrelling, trying to
decide who will eat an extra slice and Monocarp doesn’t like that. For
each k from 0 to
sum a_i, calculate the number of ways to choose to invite so that the
friends don’t quarrel, and Monocarp eats exactly k slices.
",[],,,"['bitmasks', 'divide and conquer', 'dp', 'fft']",3000,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\F. Friends and Pizza.json,https://codeforces.com//blog/entry/140146,"Before solving this problem, I highly recommend that you learn Sum over
Subsets Dynamic Programming (aka SOS DP), if you don’t know it yet. For
example, you can use this CF blog, it has a great explanation of SOS DP:
https://codeforces.com/blog/entry/45223First, we will somewhat change
the problem. The original problem wants us to consider all pairs of
friends where ; but instead, we will consider all pairs of friends where
(so, can be greater than and can even be equal to ). After solving this
modified version, we can ""subtract"" all pairs where (since there are
only of them) and divide all the answers by to get rid of the pairs
where (they are symmetrical to , so they yield the same answer). From
now on, we consider only the version where we need to count all pairs of
friends.For every friend, we can transform the string into a bit mask
which shows what pizzas that friend likes. Then, checking if the friends
quarrel and which pizzas they will eat can be done by bit operations on
their masks: if the bitwise AND of their masks and the mask of odd-size
pizzas is non-zero, there is at least one odd-size pizza they both like,
so they will quarrel; and the mask of pizzas they will eat is just the
bitwise OR of their masks.So, if for each mask, we want to calculate the
number of pairs of friends which don’t quarrel and result in exactly
that mask being eaten, we can run the following code:Or, if for each
mask, we calculate as the number of friends having that mask, we can
rewrite it as follows:Let’s first consider two special instances of this
problem, and then we’ll combine their solutions to solve the general
case.Then our mask of add pizzas is , so friends will never quarrel. In
this case, we can rewrite the ""naive"" code as follows:This is an OR
convolution of the sequence with itself, and it can be calculated much
faster than . When dealing with regular convolutions, a fast way to
calculate them is the following one: Transform the sequences using FFT
or NTT. Multiply the corresponding elements of the transformed
sequences. Perform the inverse transformation. OR convolution can be
done in the same way, but instead of FFT or NTT, we will use SOS DP. So,
an OR convolution of two sequences and looks like that:Why does SOS DP
do the trick? means that is the sum of over all and that are submasks of
. For some pairs , their bitwise OR is exactly ; but for others, their
bitwise OR is a submask of . So, actually, is the sum over submasks of
the sequence we need to obtain, so by applying inverse SOS DP (the
transformation which returns the sequence by its sums over submasks), we
get exactly what we need..Okay, the instance when all pizzas have even
size is done. Next, we haveThe ""naive"" code would look like
that:Unfortunately, this is much trickier. This is called Fast Subset
Convolution, and to do it faster, we have to add another dimension to
our sequence. Now suppose we want to get the FSC of sequences and , and
the resulting sequence is named .If the bitwise OR of and is , and the
bitwise AND of and is , then (the number of bits set to in is equal to .
So, the value of can be represented as the sum of over all such that the
bitwise OR of and is , and .Let’s transform our given sequences of
length into two-dimensional matrices of size . Let be if , or if .
Similarly, we denote based on .Okay, now let’s try to make it so that,
in the resulting convolution, the product ends up in the cell , where
denotes bitwise OR. To do this, let’s evaluate the -th row of as the
following sum: . The OR Convolution will make sure that, for every pair
of , ends up in some cell of the form , and to verify that their bitwise
AND is , we can check that . So, the resulting value of we want to get
is equal to .This Fast Subset Convolution can be done in if you apply
SOS DP to every row of and to get matrices with sums over submasks in
each row (let’s call them and ), calculate , and then apply Inverse SOS
DP to each row of to get the matrix .Okay, now back to the original
problem.We need to make a convolution for which some bits (represending
even-sized pizzas) work as in OR Convolution, but other bits
(representing odd-sized pizzas) work as in Fast Subset Convolution. The
key idea is that we can modify Fast Subset Convolution so that it tracks
only the number of bits representing odd-sized pizzas. So, let’s define
as the number of bits representing odd-sized pizzas in . So, when we
transform the given sequences and to the matrices and , we set to if ,
or if . And our matrices will have size , where is the number of
odd-sized pizzas. Note that, in our problem, the sequences and are the
same, so the matrix is actually the same as .Similarly, to get the
sequence from the matrix , we set .This modification of Fast Subset
Convolution works in . Since , we get a solution working in (the summand
comes from processing the friends and converting them into masks).
"
https://codeforces.com//contest/2069/problem/F,3213451,F,2069F,2069,F. Graph Inclusion,"A connected component of an undirected graph is defined as a set of
vertices S of this graph such that: for every pair of vertices (u, v) in
S, there exists a path between vertices u and v; there is no vertex
outside S that has a path to a vertex within S. For example, the graph
in the picture below has three components:
{1, 3, 7, 8
},
{2
},
{4, 5, 6
}. We say that graph A graph B if every component of graph B is a subset
of some component of graph A.You are given two graphs, A and B, both
consisting of n vertices numbered from 1 to n. Initially, there are no
edges in the graphs. You must process queries of two types: add an edge
to one of the graphs; remove an edge from one of the graphs. After each
query, you have to calculate the minimum number of edges that have to be
added to A so that A includes B, and print it. Note that you don’t
actually add these edges, you just calculate their number.
",[],,,"['data structures', 'dfs and similar', 'divide and conquer', 'dsu', 'graphs']",2800,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\F. Graph Inclusion.json,https://codeforces.com//blog/entry/139774,"First, let’s understand how to solve the problem without queries (given
two graphs and , add the minimum number of edges to so that it includes
graph ), and then we’ll deal with query processing.Let’s understand what
it means for graph to . This means that some component of graph is not a
subset of any component of graph that is, there exist two vertices
(let’s call them and ) that belong to the same component in graph , but
do not belong to the same component in graph .If this happens, let’s
connect vertices and with an edge in graph , and then try to find such a
pair of vertices again. We will continue doing this until it turns out
that there is no such pair of vertices. After that, graph will include
graph .Let’s take a look at what kind of graph we have obtained. The
following holds for it: if two vertices and are in the same component
either in graph or in graph (or in both of these graphs), then they are
in the same component in the resulting graph (note that the reverse is
not necessarily true). This means that the partition of this graph into
components will be the same as if we constructed a graph that has edges
from both graphs and , and partitioned it into components. Thus, for
graph to include graph , we need to make its components match those of
the union of graphs and .Since the union of graphs and includes graph ,
it is sufficient for us to count the number of components in graph and
in the union, and the difference between these two numbers will be
exactly the number of edges we need to add to graph for its components
to coincide with the components of the union.Now let’s deal with the
queries. We need to maintain two graphs ( and the union), add/remove
edges, and compute the number of components in the graphs. Moreover, all
queries can be read from the very beginning and then processed (the
problem can be solved offline). This means we can use the Dynamic
Connectivity Offline technique. Below is a description of this
technique.First, for each edge in each graph, we will identify all
segments of queries when this edge exists (that is, such segments that
the edge exists from query to query ). In total, there will be such
segments.We will build a segment tree with leaves, where each leaf
corresponds to a certain query. Each segment that we have identified can
be split into segments corresponding to the vertices of the segment tree
(similarly to how a segment tree splits any query on a segment into
vertices). We will add information of the form ""this edge exists
throughout this segment"" to the corresponding vertices.Now our task is
the following: for each query, form the graph so that it contains only
edges existing during that query. Each query corresponds to one of the
leaves of the segment tree, and the edges that exist at that moment are
the edges stored in the vertices on the path to that leaf of the segment
tree. Thus, now for each leaf of the segment tree, we need to form a
partition of the graph into components if the graph contains exactly
those edges that are on the path from the root to that leaf.To do this,
we can recursively traverse the segment tree. When we visit vertex , we
will do the following: add all edges stored in vertex of the segment
tree; if vertex has children, recursively visit the children; if vertex
has no children, then it is a leaf of the segment tree, and the graph is
currently in such a state that we can find the answer to the
corresponding query (the graph contains all edges that exist at that
moment); before returning from vertex , ""rollback"" all changes we made
in it. We need a data structure that can add an edge to the graph and
rollback the last changes. The simplest option for such a structure is a
DSU with rollbacks. We will write a standard DSU with a rank heuristic,
but (it does not combine well with rollbacks). Each time we make a
change in the DSU, we will remember which values we changed and what was
stored there before (look at the function in the model solution to
understand how to implement this most simply). Since we use only one DSU
heuristic, adding one edge will take and, accordingly, rolling back an
edge will also take .In total, we have segments of edge existence, each
of which is split by the segment tree into segments, so the total number
of edge addition operations will be , and the entire solution will work
in .
"
https://codeforces.com//contest/2104/problem/F,3357542,F,2104F,2104,F. Numbers and Strings,"For each integer x from 1 to n, we will form the string S(x) according
to the following rules: compute (x+1); write x and x+1 next to each
other in the decimal system without separators and leading zeros; in the
resulting string, sort all digits in non-decreasing order. For example,
the string S(139) is (before sorting the digits, it is ). The string
S(99) is .Your task is to count the number of distinct strings among
S(1), S(2),
dots, S(n).
",[],,,"['binary search', 'brute force', 'dfs and similar', 'dp', 'implementation', 'math']",2600,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\F. Numbers and Strings.json,https://codeforces.com//blog/entry/142472,"Consider how the decimal representation of depends on . Usually, all
digits of remain the same, except for the last digit, which is increased
by . It does not actually work if the last digit of is , but we can get
a more general rule that handles that case: all ’s at the end of the
number change to ’s, and then the digit before that block of ’s gets
increased by .Let’s split each integer into three parts: the last block
of ’s (possibly empty), the digit before that block of ’s, and all
digits before that (possibly none). For example, the number is split as
follows: .The first part of the integer will not be affected if we
increase the integer by . So, the order of digits in the first part does
not matter: gives the same string as , since is a permutation of .So, if
there are two integers for which the ""middle"" and the ""right"" part are
the same, and the left parts are permutations of each other, the strings
are the same for them. Among several numbers having the same , we are
interested only in the smallest number.Let’s brute force all numbers
such that their left parts are . So, if some digit of the number is less
than the previous one, then this digit is the ""middle"" part and every
digit to the right of it should be . In my opinion, the easiest way to
do this is to run a recursive function like , where is the current
decimal representation of the number, and denotes whether we have
already built the left and the middle part of the number. If is false,
we can append any digit to the end of the number (and if it is less than
the last digit of , we set to true); otherwise, we can only append .This
may cause our integers to have leading zeroes, but I have an easy fix
for this: when converting the decimal representation of the integer to
the integer itself, if it has leading zeroes, swap the first digit with
the first non-zero digit.Unfortunately, this brute force approach may
generate multiple integers having the same , since, for example, and
have the same , but their left parts are not permutations of each other.
So we need to filter the list of numbers we get: if multiple numbers
give the same , get rid of all of them except for the minimum one. The
model solution does this by storing pairs and sorting them.After we’ve
filtered the numbers, we can sort them again in non-descending order and
use binary search to answer the test cases.The only thing that’s left to
discuss is why this works fast. We can estimate the number of integers
our search will consider as follows: each integer consists of the left
part, the digit after it, and the block of ’s. The length of the integer
is at most , so the length of the left part is at most . The number of
possible left parts of length is , since constructing the integer of
length with ascending digits can be represetned as a partition of into
non-negative summands. If the length of the left part is , the number of
possible left parts is , the number of ways to choose the middle part is
. This is clearly the largest group of numbers we are interested in, but
if you want to check the other groups as well, you can sum them up as
follows: here represents the number of ways to choose the length for the
block of ’s. Evaluating this formula gives that a bit less than integers
are considered by our search.
"
https://codeforces.com//contest/2086/problem/F,3306525,F,2086F,2086,F. Online Palindrome,"The jury has a string s consisting of lowercase Latin letters. The
following constraints apply to this string: the string has an odd length
that does not exceed 99; the string consists only of the characters """"
and """". There is also a string t, which is initially empty. Then, |s|
steps happen. During the i-th step, the following events occur: first,
the jury tells you the character s_i and appends it to the end of the
string t; then, you may swap any two characters in t, or do nothing.
Your task is to ensure that after the |s|-th step, the string t is a
palindrome.
",[],,,"['brute force', 'constructive algorithms', 'interactive']",3000,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\F. Online Palindrome.json,https://codeforces.com//blog/entry/141425,"From the problem statement, it can be understood that at each step, when
we have an odd number of characters, the string must be a palindrome,
since the length of the string is not provided. Therefore, we need to
come up with a strategy for swaps to ensure this condition is met.The
first thought is to try a brute-force approach of the following
kind:When the current step is odd (i.e., ), let’s obtain the next
character , add it to the end of , and perform some swap. After this,
two conditions must be satisfied: if we then add the character """", the
string can be turned into a palindrome with no more than one swap; if we
then add the character """", the string can be turned into a palindrome
with no more than one swap. If the step is even, let’s obtain the next
character , add it to the end of , and perform a swap so that becomes a
palindrome.If we try to submit this solution, we will get , as there can
be situations where both conditions for the odd step are not satisfied
simultaneously. This is due to the fact that we allow the construction
of any palindromes.Based on this, we conclude that any palindrome is not
suitable for us, and we need to maintain some template palindrome. The
most challenging part of this problem is to find such a template.Next, I
will describe how the template should look: if there is more than one
letter """", then we place the letter """" as the first and last character;
if there is more than one letter """", then we place the letter """" as the
second and second-to-last character; if there is more than one letter
"""", then we place the letter """" as the third and third-to-last
character; we alternate this way while possible; then we fill all paired
positions with the letter that has more than one left; the center is
filled unambiguously. All palindromes that start with the letter """" and
have the same form are also suitable for us. For example, the following
strings fit the template: """"; """"; """"; """"; For this template, there are
transitions (i.e., swaps such that from a template of length we can
transition to a template of length by adding any possible pair of
characters), however, deriving them manually is quite complicated, as
there are many situations.However, this can be added to our brute-force
approach for the odd step. Once again, here’s how it will look: obtain
the next character from the input; iterate through a pair of characters
in the string that we want to swap; for each iterated pair, consider two
variants of the second incoming character. Check if we can obtain the
expected template from the current string with no more than one swap;
this can be checked unambiguously with a linear pass through the string
and the expected template, looking at the differing positions; if for
the checked permutation we can transition to the template with any next
letter, then we perform that permutation. For the even step, we can
simply find the necessary swap in a linear manner.Thus, the asymptotic
complexity of this solution is .As an appendix, I will list examples of
transitions by pairs of characters in the template: """" + """" """"; """" + """"
""""; """" + """" """"; """" + """" """"; """" + """" """"; """" + """" """"; """" + """" """"; """" + """"
""""; """" + """" """"; """" + """" """"; """" + """" """"; """" + """" """"; """" + """" """"; """" + """"
""""; """" + """" """"; """" + """" """"; """" + """" """"; """" + """" """"; """" + """" """"; """" + """"
""""; """" + """" """"; """" + """" """"; """" + """" """"; """" + """" """"; """" + """" """"; """" + """"
""""; """" + """" """";
"
https://codeforces.com//contest/2104/problem/G,3357543,G,2104G,2104,G. Modulo 3,"Surely, you have seen problems which require you to output the answer
modulo 10^9+7, 10^9+9, or 998244353. But have you ever seen a problem
where you have to print the answer modulo 3?You are given a functional
graph consisting of n vertices, numbered from 1 to n. It is a directed
graph, in which each vertex has exactly one outgoing arc. The graph is
given as the array g_1, g_2,
dots, g_n, where g_i means that there is an arc that goes from i to g_i.
For some vertices, the outgoing arcs might be self-loops.Initially, all
vertices of the graph are colored in color 1. You can perform the
following operation: select a vertex and a color from 1 to k, and then
color this vertex and all vertices that are reachable from it. You can
perform this operation any number of times (even zero).You should
process q queries. The query is described by three integers x, y and k.
For each query, you should: assign g_x := y; then calculate the number
of different graph colorings for the given value of k (two colorings are
different if there exists at least one vertex that is colored in
different colors in these two colorings); since the answer can be very
large, print it . Note that in every query, the initial coloring of the
graph is reset (all vertices initially have color 1 in each query).
",[],,,"['data structures', 'divide and conquer', 'dsu', 'graphs', 'trees']",2700,D:\scoala\RESEARCH\MLCP\01_CODEFORCES_DATASET\EDUCATIONAL\G. Modulo 3.json,https://codeforces.com//blog/entry/142472,"First, let’s find out how to solve the following problem: you are given
a directed graph where all vertices have color . You can choose a vertex
and a color from to , then color it and all vertices reachable from it
with that color. How many different colorings are there?Clearly, if a
pair of vertices is in the same strongly connected component, they will
always have the same color. Furthermore, if we fix a color for each
strongly connected component, there is always a way to color the graph
such that the colors for all components match the chosen ones. To do
this, we can condense the graph and color it in topological order of the
condensation. Therefore, the answer for an arbitrary directed graph is ,
where is the number of strongly connected components.Now let’s return to
the original problem and try to utilize the fact that the answer is
required modulo (this is probably an important constraint). If or , then
any power of is equal to itself. Therefore, the only complex case is
when . For , even powers are equal to modulo , while odd powers are
equal to . Thus, we are actually interested in the of the number of
strongly connected components.Let’s try to understand how to
conveniently count the parity of the number of SCCs for a functional
graph. Vertices that are not on cycles represent separate components,
and each cycle is a separate component. If a cycle has even length, it
changes the parity of the number of SCCs, while if it has odd length, it
leaves it unchanged. Therefore, we are actually interested in the number
of cycles of even length in the functional graph.If instead of a
directed graph, we treat it as an undirected one (making each edge
bidirectional), the cycles will not change. We are interested in the
number of even cycles, and since there will be a cycle in each connected
component, we are interested in the number of connected components . In
other words, we need to maintain the number of in the undirected
graph.The further part of the solution is purely technical. Let’s use
the Dynamic Connectivity Offline method: For each edge, find all time
segments during which it exists. Build a segment tree, where each leaf
represents a moment in time (the -st leaf is the -st query, the -nd leaf
is the -nd query, and so on). For each existence segment of an edge, do
the following: break it into vertices of the segment tree (as in any
segment query) and add information to each corresponding vertex that
this edge exists throughout this segment. Implement a Disjoint Set Union
with the ability to roll back the last operations (we will need to use
rank heuristics, but not path compression heuristics). Since we need to
maintain bipartiteness, for each vertex in the DSU we will store the
parity of the distance to the parent. To perform rollbacks, we can store
two arrays that will show for each operation which cell’s value changed
(the address of the modified variable) and what it was before. We will
traverse the segment tree using depth-first search. Each time we enter a
vertex of the segment tree, we will add all edges that exist throughout
this segment to the DSU and recalculate the number of bipartite
components. Upon exiting a vertex, we will roll back the DSU to the
version that was present when we entered the vertex. When processing a
leaf of the segment tree, we will know how many bipartite components are
in the graph at that moment, and thus we will count the number of
colorings modulo . Complexity of the solution: .
"
